
http://thebuild.com/presentations/not-your-job-pgconf-us-2017.pdf

Do not backup to mounted network (NFS,
etc.) shares.

http://momjian.us/main/writings/pgsql/hw_performance
NFS and other remote file systems are not recommended for use by POSTGRESQL. NFS does not have the same file system semantics as a local file system, and these inconsistencies can cause data reliability or crash recovery problems.


https://www.slideshare.net/JonathanBattiato/postgresql-on-nfs-jbattiato-pgday2016?qid=5f509856-e519-4866-9e3f-7a49f543b7aa&v=&b=&from_search=1

https://www.slideshare.net/GiuseppeBroccolo/gbroccolo-pgconfeu2016-pgnfs?qid=f5b46507-62c6-40b6-a9fc-2adadfbc34cc&v=&b=&from_search=2

Running PostgresDocker
====================

Ashiss-MBP:blockmonitoring Ashis$ docker search "postgres"
NAME                      DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
postgres                  The PostgreSQL object-relational database ...   3649      [OK]       
kiasaki/alpine-postgres   PostgreSQL docker image based on Alpine Linux   31                   [OK]
abevoelker/postgres       Postgres 9.3 + WAL-E + PL/V8 and PL/Python...   10                   [OK]
macadmins/postgres        Postgres that accepts remote connections b...   8                    [OK]
jamesbrink/postgres       Highly configurable PostgreSQL container.       5                    [OK]
eeacms/postgres           Docker image for PostgreSQL (RelStorage re...   4                    [OK]


step 1- start postgres as an instance
=====
$docker run --name pg-9.6 -e POSTGRES_PASSWORD=test123 -d postgres

Ashiss-MBP:blockmonitoring Ashis$ docker run --name pg-9.6 -e POSTGRES_PASSWORD=test123 -d postgres
2a94df2c0160d962405196cc878ea70b099941437f9d2236bc121e0ba752d23c
Ashiss-MBP:blockmonitoring Ashis$ docker ps -a
CONTAINER ID        IMAGE                                               COMMAND                  CREATED             STATUS                   PORTS               NAMES
2a94df2c0160        postgres                                            "docker-entrypoint..."   10 seconds ago      Up 6 seconds             5432/tcp            pg-9.6

step 2- Run Postgres as as server
=========

$docker run -it --rm --link pg-9.6:postgres postgres psql -h postgres -U postgres

Ashiss-MBP:blockmonitoring Ashis$ docker run -it --rm --link pg-9.6:postgres postgres psql -h postgres -U postgres
Password for user postgres: 
psql (9.6.3)
Type "help" for help.

Alternate option - docker exec -it pg-9.6 psql -U postgres 

Step 3 - entering into bash 
==========
docker exec -it pg-9.6 /bin/bash
root@2a94df2c0160:/var/lib/postgresql/data# su postgres
#login as postgres
$ export
export GOSU_VERSION='1.7'
export HOME='/home/postgres'
export HOSTNAME='2a94df2c0160'
export LANG='en_US.utf8'
export LOGNAME='postgres'
export MAIL='/var/mail/postgres'
export OLDPWD='/var/lib/postgresql/data/pg_xlog'
export PATH='/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games'
export PGDATA='/var/lib/postgresql/data'
export PG_MAJOR='9.6'
export PG_VERSION='9.6.3-1.pgdg80+1'
export POSTGRES_PASSWORD='test123'
export PWD='/var/lib/postgresql/data'
export SHELL='/bin/sh'
export SHLVL='1'
export TERM='xterm'
export USER='postgres'
export _='pwd'
export no_proxy='*.local, 169.254/16'

step 4- if container is stopped and To start the existing docker containers
=========
$docker start pg-9.6

pg_ctl in 

root@2a94df2c0160:/var/lib/postgresql/data# which pg_ctl
/usr/lib/postgresql/9.6/bin/pg_ctl

 ==========
 
 Backup and Restore-
 ==================
 
 https://www.mkyong.com/database/postgresql-point-in-time-recovery-incremental-backup/
 
 https://github.com/PacktPublishing/PostgreSQL-9.6-High-Performance
 
 https://github.com/2ndQuadrant/ext4-data-loss
 
 
 http://www.cybertec.at/postgresql-tablespaces-its-not-so-scary/
 
 
